!function(t){var e={};function i(r){if(e[r])return e[r].exports;var u=e[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,i),u.l=!0,u.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var u in t)i.d(r,u,function(e){return t[e]}.bind(null,u));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var r,u=function(){function t(){}return t.erratic=function(t){var e=0;return t<=50?e=Math.pow(t,3)*(100-t)/50:t>50&&t<=68?e=Math.pow(t,3)*(150-t)/100:t>68&&t<=98?e=Math.pow(t,3)*((1911-10*t)/3)/500:t>98&&t<=100&&(e=Math.pow(t,3)*(160-t)/10),Math.floor(e)},t.fast=function(t){var e;return e=4*Math.pow(t,3)/5,Math.floor(e)},t.mediumFast=function(t){var e;return e=Math.pow(t,3),Math.floor(e)},t.mediumSlow=function(t){var e;return e=6*Math.pow(t,3)/5-15*Math.pow(t,2)+100*t-140,Math.floor(e)},t.slow=function(t){var e;return e=5*Math.pow(t,3)/4,Math.floor(e)},t.fluctuating=function(t){var e=0;return t<=15?e=Math.pow(t,3)*(((t+1)/3+24)/50):t>15&&t<=36?e=Math.pow(t,3)*((t+14)/50):t>36&&t<=100&&(e=Math.pow(t,3)*((t/2+32)/50)),Math.floor(e)},t}(),n=[u.erratic,u.fast,u.mediumFast,u.mediumSlow,u.slow,u.fluctuating];!function(t){t[t.Erratic=0]="Erratic",t[t.Fast=1]="Fast",t[t.MediumFast=2]="MediumFast",t[t.MediumSlow=3]="MediumSlow",t[t.Slow=4]="Slow",t[t.Fluctuating=5]="Fluctuating"}(r||(r={}));var s=function(t,e,i,r){this.level=t,this.groupID=e,this.nowExp=i,this.expGroup=this.groupID,this.candyParams=r,this.formula=n[this.expGroup]},o=function(){function t(){}return t.addNewLine=function(t){document.getElementById("results").innerText=t},t}(),a={XS:100,S:800,M:3e3,L:1e4,XL:3e4},l=function(){function t(t,e){this.results={XS:0,S:0,M:0,L:0,XL:0,residual:0},this.exp=t,this.params=e}return t.prototype.execute=function(){var t=this.diviedBy(this.exp,"XL");return this.results.XL=t.count,this.results.residual=t.residual,t=this.diviedBy(this.results.residual,"L"),this.results.L=t.count,this.results.residual=t.residual,t=this.diviedBy(this.results.residual,"M"),this.results.M=t.count,this.results.residual=t.residual,t=this.diviedBy(this.results.residual,"S"),this.results.S=t.count,this.results.residual=t.residual,t=this.diviedBy(this.results.residual,"XS"),this.results.XS=t.count,this.results.residual=t.residual,this.results},t.prototype.diviedBy=function(t,e){var i=this.params,r=i.limit;if(!i.use[e])return{count:0,residual:t};var u=Math.floor(t/a[e]);return{count:u=u<=r[e]?u:r[e],residual:t-a[e]*u}},t}(),c=function(){function t(t){this.params=t}return t.prototype.execute=function(){var t=this.params,e=t.level,i=t.formula,r=t.nowExp,u=t.candyParams,n=i(e),s=n-r,a=new l(s,u).execute(),c="Lv"+e+" 時の経験値は "+n.toString()+" です。\n    現在の経験値は "+r+" なので必要な経験値は残り "+s+" です。\n    けいけんアメの使用回数は\n    けいけんアメXLを "+a.XL+" 回\n    けいけんアメL を "+a.L+" 回\n    けいけんアメM を "+a.M+" 回\n    けいけんアメS を "+a.S+" 回\n    けいけんアメXSを "+a.XS+" 回で、\n    余りの経験値は "+a.residual+" です。\n    ";o.addNewLine(c)},t}(),m=function(){function t(){this.use={XS:!0,S:!0,M:!0,L:!0,XL:!0},this.limit={XS:Number.MAX_VALUE,S:Number.MAX_VALUE,M:Number.MAX_VALUE,L:Number.MAX_VALUE,XL:Number.MAX_VALUE},this.hasError=!1,this.errorMessage=""}return t.prototype.setUseParams=function(t){this.use.XS=t.useXS,this.use.S=t.useS,this.use.M=t.useM,this.use.L=t.useL,this.use.XL=t.useXL},t.prototype.setLimitParams=function(t){this.limit.XS=t.limitXS,this.limit.S=t.limitS,this.limit.M=t.limitM,this.limit.L=t.limitL,this.limit.XL=t.limitXL},t}();document.getElementById("calc").onclick=function(t){t.preventDefault();var e,i,r,n,a=document.getElementById("inputLevel").value||"50",l=document.getElementById("inputGroup").value||"0",d=document.getElementById("inputNowExp").value||"0";try{if(e=parseInt(a,10),i=parseInt(l,10),r=parseInt(d,10),n=function(){var t=new m,e={useXS:!0,useS:!0,useM:!0,useL:!0,useXL:!0};e.useXS=document.getElementById("use-exp-candy-xs").checked,e.useS=document.getElementById("use-exp-candy-s").checked,e.useM=document.getElementById("use-exp-candy-m").checked,e.useL=document.getElementById("use-exp-candy-l").checked,e.useXL=document.getElementById("use-exp-candy-xl").checked;var i={limitXS:Number.MAX_VALUE,limitS:Number.MAX_VALUE,limitM:Number.MAX_VALUE,limitL:Number.MAX_VALUE,limitXL:Number.MAX_VALUE};try{if(i.limitXS=parseInt(document.getElementById("limit-exp-candy-xs").value,10)||Number.MAX_VALUE,i.limitS=parseInt(document.getElementById("limit-exp-candy-s").value,10)||Number.MAX_VALUE,i.limitM=parseInt(document.getElementById("limit-exp-candy-m").value,10)||Number.MAX_VALUE,i.limitL=parseInt(document.getElementById("limit-exp-candy-l").value,10)||Number.MAX_VALUE,i.limitXL=parseInt(document.getElementById("limit-exp-candy-xl").value,10)||Number.MAX_VALUE,i.limitXS<0||i.limitS<0||i.limitM<0||i.limitL<0||i.limitXL<0)throw"上限の値が正しくありません"}catch(e){t.hasError=!0,t.errorMessage=e}return t.setUseParams(e),t.setLimitParams(i),t}(),e<0||e>100)throw"レベルの値が正しくありません";if(r<0||r>u.fluctuating(100))throw"現在の経験値の値が正しくありません";if(n.hasError)throw n.errorMessage}catch(t){return void o.addNewLine("入力ミスがあります\r\n"+t)}var h=new s(e,i,r,n);new c(h).execute()}}]);